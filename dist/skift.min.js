(function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?exports.skift=n(require("jquery")):t.skift=n(t.jQuery)})(this,function(t){return function(t){function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var i={};return n.m=t,n.c=i,n.i=function(t){return t},n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=10)}([function(t,n,i){"use strict";var e=i(5),o=i.n(e),r=i(12),a=function(){function t(t,n){console.log("Split testing event: "+t,n)}return{track:t,trackLink:function(n,i,e){o()(n).on("click",function(){t(i,e)})}}}(),s={cookieName:"skiftABTest",globalCondition:function(){return!0},sessionPersister:r.a,tracking:a,userSessionDaysToLive:3,uiCondition:function(){return!1}};n.a=s},function(t,n,i){"use strict";function e(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t){for(var n,i=/([^=?&]+)=?([^&]*)/g,o={};n=i.exec(t);o[e(n[1])]=e(n[2]));return o}function r(t,n){n=n||"";var i=[];"string"!=typeof n&&(n="?");for(var e in t)a.call(t,e)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.length?n+i.join("&"):""}var a=Object.prototype.hasOwnProperty;n.stringify=r,n.parse=o},function(t,n,i){"use strict";i.d(n,"a",function(){return u});var e=i(4),o=i(3),r=i(1),a=i.n(r),s=i(0),c=this&&this.__assign||Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,n,e){this.name=t,this.userAgentInfo=n,this.trackingDataExtender=e,this.isInitialized=!1,this._variations=[],this.extendTrackingData(i.i(o.a)({experimentName:t}))}return Object.defineProperty(t.prototype,"variations",{get:function(){return this._variations},enumerable:!0,configurable:!0}),t.prototype.canRun=function(t){return("function"!=typeof s.a.globalCondition||s.a.globalCondition(t))&&("function"!=typeof this.condition||this.condition(t))},t.prototype.setCondition=function(t){return this.condition=t,this},t.prototype.addVariation=function(t){if("string"!=typeof t.name||""===t.name||this.getVariation(t.name))throw new Error('Split test "'+this.name+'": Variation must have a unique name. Was "'+t.name+'"');return this._variations.push(c({},t,{normalizedWeight:0,weight:"number"==typeof t.weight?t.weight:1})),this.normalizeVariationWeights(),this},t.prototype.setup=function(){if(0===this._variations.length)throw new Error("Skift: can't setup a test without variations");if(this.isInitialized)return!0;if(!this.canRun(this.userAgentInfo))return!1;var t=this.getVariation(e.a.getTestVariation(this.name));return t||(t=this.selectRandomVariation(),e.a.setTestVariation(this.name,t.name)),this.extendTrackingData(i.i(o.a)({variationName:t.name})),"function"==typeof t.setup&&t.setup.call(this,this.userAgentInfo),!1!==t.trackEventAutoPublish&&this.trackViewed(),this.isInitialized=!0,!0},t.prototype.getVariation=function(t){return this._variations.filter(function(n){return n.name===t})[0]},t.prototype.getVariationUrl=function(t){var n=this.name+"="+t,i=a.a.parse(location.search);try{return i.abtest=btoa(n),location.protocol+"//"+location.host+location.pathname+a.a.stringify(i,!0)+location.hash}catch(t){return location.href}},t.prototype.extendTrackingData=function(t){var n=this.trackingDataExtender;return this.trackingDataExtender=function(i,e){return t(n(i,e),e)},this},t.prototype.trackViewed=function(){this.trackEvent("ExperimentViewed")},t.prototype.trackActionPerformed=function(t,n){this.trackEvent("ExperimentActionPerformed",{action:t,actionTarget:n||""})},t.prototype.trackLink=function(t,n){var i="ExperimentActionPerformed",e=this.trackingDataExtender({action:"Click",actionTarget:n||$(t).text()},i);s.a.tracking.trackLink(t,i,e)},t.prototype.normalizeVariationWeights=function(){var t=this._variations.reduce(function(t,n){return t+n.weight},0);this._variations.forEach(function(n){n.normalizedWeight=n.weight/t})},t.prototype.selectRandomVariation=function(){for(var t=0,n=0,i=Math.random();t<this._variations.length&&(n+=this._variations[t].normalizedWeight)<i;t++);return this._variations[t]},t.prototype.trackEvent=function(t,n){var i=this.trackingDataExtender(n||{},t);s.a.tracking.track(t,i)},t}()},function(t,n,i){"use strict";function e(t){return function(n){return o({},n,t)}}n.a=e;var o=this&&this.__assign||Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,n,i){"use strict";var e=i(0),o=function(){function t(){}return t.prototype.setTestVariation=function(t,n){var i=this.loadVariations();i[t]=n,this.saveVariations(i)},t.prototype.getTestVariation=function(t){return this.loadVariations()[t]},t.prototype.reset=function(){this.saveVariations({})},t.prototype.saveVariations=function(t){e.a.sessionPersister.saveUserSession(JSON.stringify(t),e.a.userSessionDaysToLive)},t.prototype.loadVariations=function(){return JSON.parse(e.a.sessionPersister.loadUserSession()||"{}")},t}(),r=new o;n.a=r},function(n,i){n.exports=t},function(t,n,i){"use strict";function e(t){void 0===t&&(t={}),t.cookieName&&(T.a.cookieName=t.cookieName),t.globalCondition&&(T.a.globalCondition=t.globalCondition),t.tracking&&(T.a.tracking=t.tracking),t.uiCondition&&(T.a.uiCondition=t.uiCondition),t.userSessionDaysToLive&&(T.a.userSessionDaysToLive=t.userSessionDaysToLive)}function o(){return i.i(x.a)({browser:C.name,browserVersion:C.version,isMobile:C.isMobile})}function r(t){var n=j.a.parse(location.search),i=n.abtest;if("string"==typeof i)try{var e=atob(i).split("="),o=e[0],r=e[1];t.setTestVariation(o,r)}catch(t){}}function a(){r(k.a)}function s(t){if(!t.isInitialized)throw new Error("Skift: Test not initialized yet!")}function c(t){if(!f(t))throw new Error("Skift: Unknown test '"+t+'"')}function u(){var t=j.a.parse(location.search);delete t.abtest,location.href=location.href.replace(location.search,"").replace(location.hash,"")+j.a.stringify(t,Object.keys(t).length>0)+location.hash}function p(){return C}function f(t){return S.filter(function(n){return n.name===t})[0]}function l(t){var n=new y.a(t,C,o());return S.push(n),n}function d(t){return c(t),s(f(t)),k.a.getTestVariation(t)}function h(t,n){c(t),s(f(t)),k.a.setTestVariation(t,n),u()}function m(){k.a.reset(),u()}Object.defineProperty(n,"__esModule",{value:!0}),i.d(n,"tests",function(){return S}),n.config=e,n.initialize=a,n.getUserAgentInfo=p,n.getTest=f,n.create=l,n.getCurrentTestVariation=d,n.setCurrentTestVariation=h,n.reset=m,i.d(n,"ui",function(){return w});var g=i(5),v=i.n(g),b=i(11),k=i(4),y=i(2);i.d(n,"SplitTest",function(){return y.a});var w,x=i(3),V=i(1),j=i.n(V),T=i(0),C=i.i(b.a)(),S=[];(function(t){function n(t){return Math.round(100*t.normalizedWeight)+"%"}function e(t){if(!document.head.attachShadow)return void console.warn("Skift: Sorry, we don't support the UI in the browsers witout Shadow DOM for now");var e=document.createElement("div"),o=e.attachShadow({mode:"open"}),u=document.createElement("style");u.innerHTML=i(9);var f=d(t.name);a=v()('<div class="'+s+'-ui-container hideme"></div>').append('\n              <div class="'+s+'-header">\n                Split test. Viewing <span class="abtest-variant">'+f+"</span>\n              </div>\n            ");var l={Test:t.name,Variation:f+" ("+n(t.getVariation(f))+")",Browser:p().name+" "+p().version,"Mobile device":p().isMobile};Object.keys(l).forEach(function(t){a.append('\n              <div>\n                <span class="'+s+'-data-label">'+t+'</span>\n                <span class="'+s+'-data-value">'+l[t]+"</span>\n              </div>\n            ")});var h=t.variations.map(function(i){return'\n              <a href="'+t.getVariationUrl(i.name)+'"\n                 title="Segment: '+n(i)+'">'+i.name+"</a>"});v()(h.join("&nbsp;&bull;&nbsp;")).appendTo(a),v()('<br><button type="button">Reset all</button>').on("click",m).appendTo(a),v()('<div class="'+s+'-close">X</div>').on("click",r).appendTo(a),a.removeClass("hideme"),o.appendChild(u),o.appendChild(a[0]),document.body.appendChild(e),c=!0}function o(t){c?a.removeClass("hideme"):t.length>0&&e(t[0])}function r(){a.addClass("hideme")}var a,s="skift",c=!1;t.show=o,t.hide=r,v()(function(){T.a.globalCondition(C)&&T.a.uiCondition(C)&&setTimeout(function(){return o(S)},1e3)})})(w||(w={}))},function(t,n,i){n=t.exports=i(8)(void 0),n.push([t.i,'.skift-ui-container{position:fixed;bottom:15px;right:15px;width:300px;height:300px;padding:10px;color:#292929;z-index:999;background-color:#fff;border:1px solid #f2800d;box-shadow:0 0 0 15px rgba(0,0,0,.2);transition:all .5s ease-out;opacity:1}.skift-ui-container.hideme{bottom:-350px;opacity:0}.skift-ui-container .skift-header{position:relative;top:0;left:0;padding:10px;margin:-10px;margin-bottom:10px;background-color:#292929;color:#fff;font-size:16px;font-weight:700;width:298px}.skift-ui-container .skift-data-label{display:inline-block;margin-bottom:2px;margin-right:5px;color:#292929}.skift-ui-container .skift-data-label:after{content:":"}.skift-ui-container .skift-data-value{color:#000;font-weight:700;text-transform:capitalize}.skift-ui-container .skift-variant{text-transform:uppercase;color:#6f3}.skift-ui-container .skift-close{display:flex;align-items:center;justify-content:center;position:absolute;top:-8px;right:-8px;background-color:#f2800d;color:#000;height:20px;width:20px;border-radius:5px;cursor:pointer}.skift-ui-container .delete-skift-cookie{display:block;margin:10px auto;padding:5px 10px;background-color:#f2800d;font-size:18px;color:#fff;border:0}',""])},function(t,n){function i(t,n){var i=t[1]||"",o=t[3];if(!o)return i;if(n&&"function"==typeof btoa){var r=e(o);return[i].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[i].join("\n")}function e(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=i(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(e[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&e[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),n.push(a))}},n}},function(t,n,i){var e=i(7);t.exports="string"==typeof e?e:e.toString()},function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(6);e.initialize(),n.default=e},function(t,n,i){"use strict";function e(){var t,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(n)||[],{name:"IE",version:t[1]||""}):"Chrome"===i[1]&&null!=(t=n.match(/\bOPR\/(\d+)/))?{name:"Opera",version:t[1]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],t=n.match(/version\/(\d+)/i),null!==t&&i.splice(1,1,t[1]),{name:i[0],version:i[1]})}function o(){var t=navigator.userAgent||navigator.vendor;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}function r(){return a({},e(),{isMobile:o()})}n.a=r;var a=this&&this.__assign||Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,n,i){"use strict";function e(t,n,i){var e="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),e="; expires="+o.toUTCString()}document.cookie=t+"="+n+e+"; path=/"}function o(t){for(var n=t+"=",i=document.cookie.split(";"),e=0;e<i.length;e++){for(var o=i[e];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}var r=i(0),a={loadUserSession:function(){return o(r.a.cookieName)},saveUserSession:function(t,n){e(r.a.cookieName,t,n)}};n.a=a}])});