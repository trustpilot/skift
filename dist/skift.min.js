(function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?exports.skift=n(require("jquery")):t.skift=n(t.jQuery)})(this,function(t){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=6)}([function(t,n,e){"use strict";var i=e(1),o=e.n(i),r=e(9),a=function(){function t(t,n){console.log("Split testing event: "+t,n)}return{track:t,trackLink:function(n,e,i){o.a(n).on("click",function(){t(e,i)})}}}(),s={cookieName:"skiftABTest",globalCondition:function(){return!0},sessionPersister:r.a,tracking:a,userSessionDaysToLive:3,uiCondition:function(){return!1}};n.a=s},function(n,e){n.exports=t},function(t,n,e){"use strict";var i=e(0),o=function(){function t(){}return t.prototype.setTestVariation=function(t,n){var e=this.loadVariations();e[t]=n,this.saveVariations(e)},t.prototype.getTestVariation=function(t){return this.loadVariations()[t]},t.prototype.reset=function(){this.saveVariations({})},t.prototype.saveVariations=function(t){i.a.sessionPersister.saveUserSession(JSON.stringify(t),i.a.userSessionDaysToLive)},t.prototype.loadVariations=function(){return JSON.parse(i.a.sessionPersister.loadUserSession()||"{}")},t}(),r=new o;n.a=r},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var i=e(2),o=e(4),r=e(5),a=e.n(r),s=e(0),c=this&&this.__assign||Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,n,e){this.name=t,this.userAgentInfo=n,this.trackingDataExtender=e,this.isInitialized=!1,this._variations=[],this.extendTrackingData(o.a({experimentName:t}))}return Object.defineProperty(t.prototype,"variations",{get:function(){return this._variations},enumerable:!0,configurable:!0}),t.prototype.canRun=function(t){return("function"!=typeof s.a.globalCondition||s.a.globalCondition(t))&&("function"!=typeof this.condition||this.condition(t))},t.prototype.setCondition=function(t){return this.condition=t,this},t.prototype.addVariation=function(t){if("string"!=typeof t.name||""===t.name||this.getVariation(t.name))throw new Error('Split test "'+this.name+'": Variation must have a unique name. Was "'+t.name+'"');return this._variations.push(c({},t,{normalizedWeight:0,weight:"number"==typeof t.weight?t.weight:1})),this.normalizeVariationWeights(),this},t.prototype.setup=function(){if(0===this._variations.length)throw new Error("Skift: can't setup a test without variations");if(this.isInitialized)return!0;if(!this.canRun(this.userAgentInfo))return!1;var t=this.getVariation(i.a.getTestVariation(this.name));return t||(t=this.selectRandomVariation(),i.a.setTestVariation(this.name,t.name)),this.extendTrackingData(o.a({variationName:t.name})),"function"==typeof t.setup&&t.setup.call(this,this.userAgentInfo),!1!==t.trackEventAutoPublish&&this.trackViewed(),this.isInitialized=!0,!0},t.prototype.getVariation=function(t){return this._variations.filter(function(n){return n.name===t})[0]},t.prototype.getVariationUrl=function(t){var n=this.name+"="+t,e=a.a.parse(location.search);try{return e.abtest=btoa(n),location.protocol+"//"+location.host+location.pathname+a.a.stringify(e,!0)+location.hash}catch(t){return location.href}},t.prototype.extendTrackingData=function(t){var n=this.trackingDataExtender;return this.trackingDataExtender=function(e,i){return t(n(e,i),i)},this},t.prototype.trackViewed=function(){this.trackEvent("ExperimentViewed")},t.prototype.trackActionPerformed=function(t,n){this.trackEvent("ExperimentActionPerformed",{action:t,actionTarget:n||""})},t.prototype.trackLink=function(t,n){var e="ExperimentActionPerformed",i=this.trackingDataExtender({action:"Click",actionTarget:n||$(t).text()},e);s.a.tracking.trackLink(t,e,i)},t.prototype.normalizeVariationWeights=function(){var t=this._variations.reduce(function(t,n){return t+n.weight},0);this._variations.forEach(function(n){n.normalizedWeight=n.weight/t})},t.prototype.selectRandomVariation=function(){for(var t=0,n=0,e=Math.random();t<this._variations.length&&(n+=this._variations[t].normalizedWeight)<e;t++);return this._variations[t]},t.prototype.trackEvent=function(t,n){var e=this.trackingDataExtender(n||{},t);s.a.tracking.track(t,e)},t}()},function(t,n,e){"use strict";function i(t){return function(n){return o({},n,t)}}n.a=i;var o=this&&this.__assign||Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,n,e){"use strict";function i(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t){for(var n,e=/([^=?&]+)=?([^&]*)/g,o={};n=e.exec(t);o[i(n[1])]=i(n[2]));return o}function r(t,n){n=n||"";var e=[];"string"!=typeof n&&(n="?");for(var i in t)a.call(t,i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.length?n+e.join("&"):""}var a=Object.prototype.hasOwnProperty;n.stringify=r,n.parse=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"ui",function(){return s});var i=e(1),o=e.n(i),r=e(7),a=e(10);e.d(n,"tests",function(){return r.k}),e.d(n,"config",function(){return r.b}),e.d(n,"getUserAgentInfo",function(){return r.f}),e.d(n,"getTest",function(){return r.e}),e.d(n,"create",function(){return r.c}),e.d(n,"getCurrentTestVariation",function(){return r.d}),e.d(n,"setCurrentTestVariation",function(){return r.i}),e.d(n,"reset",function(){return r.h}),e.d(n,"SplitTest",function(){return r.a}),r.g();var s=a.a(r.k,r.h,r.d,r.f);o.a(function(){r.j()||setTimeout(function(){return s.show()},1e3)}),n.default={tests:r.k,config:r.b,getUserAgentInfo:r.f,getTest:r.e,create:r.c,getCurrentTestVariation:r.d,setCurrentTestVariation:r.i,reset:r.h,ui:s,SplitTest:r.a,initialize:r.g}},function(t,n,e){"use strict";function i(t){void 0===t&&(t={}),t.cookieName&&(V.a.cookieName=t.cookieName),t.globalCondition&&(V.a.globalCondition=t.globalCondition),t.tracking&&(V.a.tracking=t.tracking),t.uiCondition&&(V.a.uiCondition=t.uiCondition),t.userSessionDaysToLive&&(V.a.userSessionDaysToLive=t.userSessionDaysToLive)}function o(){return k.a({browser:j.name,browserVersion:j.version,isMobile:j.isMobile})}function r(t){var n=x.a.parse(location.search),e=n.abtest;if("string"==typeof e)try{var i=atob(e).split("="),o=i[0],r=i[1];t.setTestVariation(o,r)}catch(t){}}function a(){r(b.a)}function s(t){if(!t.isInitialized)throw new Error('Skift: Test "'+t.name+'" is not initialized yet!')}function c(t){if(!f(t))throw new Error('Skift: Unknown test "'+t+'"')}function u(){var t=x.a.parse(location.search);delete t.abtest,location.href=location.href.replace(location.search,"").replace(location.hash,"")+x.a.stringify(t,Object.keys(t).length>0)+location.hash}function p(){return j}function f(t){return T.filter(function(n){return n.name===t})[0]}function l(t){var n=new y.a(t,j,o());return T.push(n),n}function d(t){return c(t),s(f(t)),b.a.getTestVariation(t)}function h(t,n){c(t),s(f(t)),b.a.setTestVariation(t,n),u()}function m(){b.a.reset(),u()}function g(){return!V.a.globalCondition(j)||!V.a.uiCondition(j)}e.d(n,"k",function(){return T}),n.b=i,n.g=a,n.f=p,n.e=f,n.c=l,n.d=d,n.i=h,n.h=m,n.j=g;var v=e(8),b=e(2),y=e(3);e.d(n,"a",function(){return y.a});var k=e(4),w=e(5),x=e.n(w),V=e(0),j=v.a(),T=[]},function(t,n,e){"use strict";function i(){var t,n=navigator.userAgent,e=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(e[1])?(t=/\brv[ :]+(\d+)/g.exec(n)||[],{name:"IE",version:t[1]||""}):"Chrome"===e[1]&&null!=(t=n.match(/\bOPR\/(\d+)/))?{name:"Opera",version:t[1]}:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],t=n.match(/version\/(\d+)/i),null!==t&&e.splice(1,1,t[1]),{name:e[0],version:e[1]})}function o(){var t=navigator.userAgent||navigator.vendor;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}function r(){return a({},i(),{isMobile:o()})}n.a=r;var a=this&&this.__assign||Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,n,e){"use strict";function i(t,n,e){var i="";if(e){var o=new Date;o.setTime(o.getTime()+24*e*60*60*1e3),i="; expires="+o.toUTCString()}document.cookie=t+"="+n+i+"; path=/"}function o(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var o=e[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}var r=e(0),a={loadUserSession:function(){return o(r.a.cookieName)},saveUserSession:function(t,n){i(r.a.cookieName,t,n)}};n.a=a},function(t,n,e){"use strict";function i(t){return Math.round(100*t.normalizedWeight)+"%"}e.d(n,"a",function(){return c});var o,r=e(1),a=e.n(r),s=!1,c=function(t,n,r,c){function u(t){if(t.isInitialized){var n=r(t.name),e={Test:t.name,Variation:n+" ("+i(t.getVariation(n))+")",Browser:c().name+" "+c().version,"Mobile device":c().isMobile},o=t.variations.map(function(n){return'<a href="'+t.getVariationUrl(n.name)+'" title="Segment: '+i(n)+'">'+n.name+"</a>"});return'\n            <div class="test">\n              <div class="header">\n                Viewing: <span class="abtest-variant">'+n+"</span>\n              </div>"+Object.keys(e).map(function(t){return'<div><span class="data-label">'+t+'</span><span class="data-value">'+e[t]+"</span></div>"}).join("")+"\n        "+o.join("&nbsp;&bull;&nbsp;")+"</div>"}return'<div class="test">\n                    <div class="header">\n                      Viewing: <span class="abtest-variant">Not initialized</span>\n                    </div>\n                    <div>Test <span class="data-value">'+t.name+'</span> is not initialized</div>\n                    <div><span class="data-label">Can run</span><span class="data-value">'+t.canRun(c())+"</span></div>\n                </div>"}function p(){if(!document.head.attachShadow)return void console.warn("Skift: Sorry, we don't support the UI in the browsers witout Shadow DOM for now");var i=document.createElement("div"),r=i.attachShadow({mode:"open"}),c=document.createElement("style");c.innerHTML=e(11),o=a.a('<div class="ui-container hideme"></div>').append('<div class="test-list">'+t.map(u).join("")+"</div>"),a.a('<button type="button" class="reset">Reset all</button>').on("click",n).appendTo(o),a.a('<div class="close">X</div>').on("click",l).appendTo(o),o.removeClass("hideme"),r.appendChild(c),r.appendChild(o[0]),document.body.appendChild(i),s=!0}function f(){s?o.removeClass("hideme"):t.length>0&&p()}function l(){o.addClass("hideme")}return{show:f,hide:l}}},function(t,n,e){var i=e(12);t.exports="string"==typeof i?i:i.toString()},function(t,n,e){n=t.exports=e(13)(void 0),n.push([t.i,'*{box-sizing:border-box;font-family:Helvetica Neue,serif}.ui-container{position:fixed;bottom:15px;right:15px;width:300px;height:300px;color:#292929;z-index:999;background-color:#fff;border:1px solid #f2800d;box-shadow:0 0 0 15px rgba(0,0,0,.2);transition:all .5s ease-out;opacity:1}.ui-container.hideme{bottom:-350px;opacity:0}.test-list{overflow-y:scroll;height:250px}.header,.test{padding:10px}.header{position:relative;top:0;left:0;margin-bottom:10px;background-color:#292929;color:#fff;font-size:16px;font-weight:700}.data-label{display:inline-block;margin-bottom:2px;margin-right:5px;color:#292929}.data-label:after{content:":"}.data-value{color:#000;font-weight:700;text-transform:capitalize}.variant{text-transform:uppercase;color:#6f3}.close{display:flex;align-items:center;justify-content:center;position:absolute;top:-8px;right:-8px;color:#000;height:20px;width:20px;border-radius:5px;cursor:pointer}.close,.reset{background-color:#f2800d}.reset{display:block;margin:10px auto;padding:5px 10px;font-size:18px;color:#fff;border:0}',""])},function(t,n){function e(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var r=i(o);return[e].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[e].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var i=e(n,t);return n[2]?"@media "+n[2]+"{"+i+"}":i}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&i[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}}])});