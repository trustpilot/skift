!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.skift=n():t.skift=n()}(window,function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";var i=Object.prototype.hasOwnProperty;function r(t){return decodeURIComponent(t.replace(/\+/g," "))}n.stringify=function(t,n){n=n||"";var e=[];for(var r in"string"!=typeof n&&(n="?"),t)i.call(t,r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.length?n+e.join("&"):""},n.parse=function(t){for(var n,e=/([^=?&]+)=?([^&]*)/g,i={};n=e.exec(t);){var o=r(n[1]),a=r(n[2]);o in i||(i[o]=a)}return i}},function(t,n,e){"use strict";e.r(n);var i=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},r={cookieName:"skiftABTest",globalCondition:function(){return!0},sessionPersister:{loadUserSession:function(){return function(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var r=e[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null}(r.cookieName)},saveUserSession:function(t,n){!function(t,n,e){var i="";if(e){var r=new Date;r.setTime(r.getTime()+24*e*60*60*1e3),i="; expires="+r.toUTCString()}document.cookie=t+"="+n+i+"; path=/"}(r.cookieName,t,n)}},tracking:function(){function t(t,n){console.log("Split testing event: "+t,n)}return{track:t,trackLink:function(n,e,i){n.addEventListener("click",function(){t(e,i)})}}}(),userSessionDaysToLive:3,uiCondition:function(){return!1}},o=new(function(){function t(){}return t.prototype.setTestVariation=function(t,n){var e=this.loadVariations();e[t]=n,this.saveVariations(e)},t.prototype.getTestVariation=function(t){return this.loadVariations()[t]},t.prototype.reset=function(){this.saveVariations({})},t.prototype.saveVariations=function(t){r.sessionPersister.saveUserSession(JSON.stringify(t),r.userSessionDaysToLive)},t.prototype.loadVariations=function(){return JSON.parse(r.sessionPersister.loadUserSession()||"{}")},t}()),a=function(){function t(t){this.subscribers=[],this._value=t}return t.prototype.next=function(t){var n=this;this._value=t,this.subscribers.forEach(function(t){return t(n._value)})},t.prototype.subscribe=function(t){t(this._value),this.subscribers.push(t)},t}(),s=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t};function c(t){return function(n){return s({},n,t)}}var u=e(0),l=function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(a,s)}c((i=i.apply(t,n||[])).next())})},f=function(t,n){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function p(t){return l(this,void 0,void 0,function(){return f(this,function(n){return[2,Promise.resolve(t)]})})}var h=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},d=function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(a,s)}c((i=i.apply(t,n||[])).next())})},v=function(t,n){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(){function t(t,n,e){this.name=t,this.userAgentInfo=n,this.trackingDataExtender=e,this.state="uninitialized",this.changes=new a(this),this.finalStateListeners=[],this._variations=[],this.condition=function(){return!0},this.extendTrackingData(c({experimentName:t}))}return Object.defineProperty(t.prototype,"variations",{get:function(){return this._variations},enumerable:!0,configurable:!0}),t.prototype.shouldRun=function(t){return d(this,void 0,void 0,function(){var n;return v(this,function(e){switch(e.label){case 0:return n=[r.globalCondition(t),this.condition(t)].map(p),[4,Promise.all(n)];case 1:return[2,e.sent().every(function(t){return t})]}})})},t.prototype.setCondition=function(t){return this.condition=t,this},t.prototype.addVariation=function(t){if("string"!=typeof t.name||""===t.name||this.getVariation(t.name))throw new Error('Split test "'+this.name+'": Variation must have a unique name. Was "'+t.name+'"');return this._variations.push(h({},t,{normalizedWeight:0,weight:"number"==typeof t.weight?t.weight:1})),this.normalizeVariationWeights(),this.changes.next(this),this},t.prototype.setup=function(){return d(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:if(0===this._variations.length)throw new Error("Skift: can't setup a test without variations");return"initialized"===this.state?[2,!0]:(this.transitionState("initializing"),[4,this.shouldRun(this.userAgentInfo)]);case 1:return n.sent()?((t=this.getVariation(o.getTestVariation(this.name)))||(t=this.selectRandomVariation(),o.setTestVariation(this.name,t.name)),this.extendTrackingData(c({variationName:t.name})),"function"==typeof t.setup&&t.setup.call(this,this.userAgentInfo),!1!==t.trackEventAutoPublish&&this.trackViewed(),this.transitionState("initialized"),this.changes.next(this),[2,!0]):(this.transitionState("canceled"),[2,!1])}})})},t.prototype.isInitialized=function(){return d(this,void 0,void 0,function(){var t=this;return v(this,function(n){switch(n.label){case 0:return"initializing"!==this.state?[3,2]:[4,new Promise(function(n,e){t.subscribeStateListener(function(){n("initialized"===t.state)})})];case 1:return[2,n.sent()];case 2:return[2,"initialized"===this.state]}})})},t.prototype.getVariation=function(t){return this._variations.filter(function(n){return n.name===t})[0]},t.prototype.getVariationUrl=function(t){var n=this.name+"="+t,e=u.parse(location.search);try{return e.abtest=btoa(n),location.protocol+"//"+location.host+location.pathname+u.stringify(e,!0)+location.hash}catch(t){return location.href}},t.prototype.extendTrackingData=function(t){var n=this.trackingDataExtender;return this.trackingDataExtender=function(e,i){return t(n(e,i),i)},this},t.prototype.trackViewed=function(){this.trackEvent("ExperimentViewed")},t.prototype.trackActionPerformed=function(t,n){this.trackEvent("ExperimentActionPerformed",{action:t,actionTarget:n||""})},t.prototype.trackLink=function(t,n){var e="ExperimentActionPerformed",i=this.trackingDataExtender({action:"Click",actionTarget:n||t.textContent},e);r.tracking.trackLink(t,e,i)},t.prototype.normalizeVariationWeights=function(){var t=this._variations.reduce(function(t,n){return t+n.weight},0);this._variations.forEach(function(n){n.normalizedWeight=n.weight/t})},t.prototype.transitionState=function(t){this.state=t,"initializing"!==t&&(this.finalStateListeners.forEach(function(t){return t()}),this.finalStateListeners=[])},t.prototype.subscribeStateListener=function(t){this.finalStateListeners.push(t)},t.prototype.selectRandomVariation=function(){for(var t=0,n=0,e=Math.random();t<this._variations.length&&(n+=this._variations[t].normalizedWeight)<e;t++);return this._variations[t]},t.prototype.trackEvent=function(t,n){var e=this.trackingDataExtender(n||{},t);r.tracking.track(t,e)},t}(),m=function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(a,s)}c((i=i.apply(t,n||[])).next())})},g=function(t,n){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},y=i({},function(){var t,n=navigator.userAgent,e=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(e[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(n)||[])[1]||""}:"Chrome"===e[1]&&null!=(t=n.match(/\bOPR\/(\d+)/))?{name:"Opera",version:t[1]}:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=n.match(/version\/(\d+)/i))&&e.splice(1,1,t[1]),{name:e[0],version:e[1]})}(),{isMobile:function(){var t=navigator.userAgent||navigator.vendor;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}()}),w=[],k=new a(w);function x(t){void 0===t&&(t={}),t.cookieName&&(r.cookieName=t.cookieName),t.globalCondition&&(r.globalCondition=t.globalCondition),t.tracking&&(r.tracking=t.tracking),t.uiCondition&&(r.uiCondition=t.uiCondition),t.userSessionDaysToLive&&(r.userSessionDaysToLive=t.userSessionDaysToLive)}function S(){!function(t){var n=u.parse(location.search).abtest;if("string"==typeof n)try{var e=atob(n).split("="),i=e[0],r=e[1];t.setTestVariation(i,r)}catch(t){}}(o)}function T(t){return m(this,void 0,void 0,function(){return g(this,function(n){switch(n.label){case 0:return[4,t.isInitialized()];case 1:if(!n.sent())throw new Error('Skift: Test "'+t.name+'" is not initialized yet!');return[2]}})})}function C(t){if(!E(t))throw new Error('Skift: Unknown test "'+t+'"')}function V(){var t=u.parse(location.search);delete t.abtest,location.href=location.href.replace(location.search,"").replace(location.hash,"")+u.stringify(t,Object.keys(t).length>0)+location.hash}function z(){return y}function E(t){return w.filter(function(n){return n.name===t})[0]}function j(t){var n=new b(t,y,c({browser:y.name,browserVersion:y.version,isMobile:y.isMobile}));return w.push(n),n.changes.subscribe(function(){return k.next(w)}),n}function O(t){return C(t),T(E(t)),o.getTestVariation(t)}function P(t,n){C(t),T(E(t)),o.setTestVariation(t,n),V()}function L(){o.reset(),V()}var _=function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(a,s)}c((i=i.apply(t,n||[])).next())})},N=function(t,n){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function U(t){return Math.round(100*t.normalizedWeight)+"%"}var D,M=!1;e.d(n,"ui",function(){return A}),e.d(n,"tests",function(){return w}),e.d(n,"config",function(){return x}),e.d(n,"getUserAgentInfo",function(){return z}),e.d(n,"getTest",function(){return E}),e.d(n,"create",function(){return j}),e.d(n,"getCurrentTestVariation",function(){return O}),e.d(n,"setCurrentTestVariation",function(){return P}),e.d(n,"reset",function(){return L}),e.d(n,"SplitTest",function(){return b});S();var A=function(t,n,i,r){function o(t){return _(this,void 0,void 0,function(){var n,e,o;return N(this,function(a){switch(a.label){case 0:return[4,t.isInitialized()];case 1:return a.sent()?(n=i(t.name),e={Test:t.name,Variation:n+" ("+U(t.getVariation(n))+")",Browser:r().name+" "+r().version,"Mobile device":r().isMobile},[2,'\n                <div class="test">\n                    '+Object.keys(e).map(function(t){return'\n                        <div>\n                            <span class="data-label">'+t+'</span>\n                            <span class="data-value">'+e[t]+"</span>\n                        </div>\n                    "}).join("")+'\n                </div>\n                <div class="variations">\n                    <span class="legend">Variations available:</span>\n                    <ul>\n                        '+t.variations.map(function(e){return n===e.name?'\n                                    <li class="selected">'+e.name+"</li>\n                                ":'\n                                <li>\n                                    <a\n                                        href="'+t.getVariationUrl(e.name)+'"\n                                        title="Segment: '+U(e)+'"\n                                    >\n                                        '+e.name+"\n                                    </a>\n                                </li>\n                            "}).join("")+"\n                    </ul>\n                </div>\n            "]):[3,2];case 2:return[4,t.shouldRun(r())];case 3:return o=a.sent(),[2,'\n                <div class="test">\n                    <div>Test <span class="data-value">'+t.name+'</span> is not initialized</div>\n                    <div>\n                        <span class="data-label">Can run</span>\n                        <span class="data-value">'+o+"</span>\n                    </div>\n                </div>\n            "]}})})}function a(){D.className="skift hideme"}return{show:function(){M?D.className="skift":function(){var i=this,r=document.querySelector(".skift");r?D=r:(D=document.createElement("div")).className="skift";var s=document.createElement("style");s.innerHTML=e(4);var c=document.createElement("div");c.className="header",c.textContent="Skift";var u=document.createElement("div");u.className="tests",t.subscribe(function(t){return _(i,void 0,void 0,function(){var n;return N(this,function(e){switch(e.label){case 0:for(;u.hasChildNodes();)u.removeChild(u.lastChild);return n=u,[4,Promise.all(t.map(o))];case 1:return n.innerHTML=e.sent().join(""),[2]}})})});var l=document.createElement("button");l.className="reset",l.textContent="Reset all",l.setAttribute("type","button"),l.addEventListener("click",function(){n()});var f=document.createElement("span");f.className="close",f.textContent="X",f.addEventListener("click",function(){a()}),c.appendChild(f),D.appendChild(c),D.appendChild(s),D.appendChild(u),D.appendChild(l),document.body.appendChild(D),M=!0}()},hide:a}}(k,L,O,z);!function(t){if("loading"!==document.readyState)return t();document.addEventListener("DOMContentLoaded",t)}(function(){setTimeout(function(){return function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(a,s)}c((i=i.apply(t,n||[])).next())})}(void 0,void 0,void 0,function(){return function(t,n){var e,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:return[4,function(){return m(this,void 0,void 0,function(){var t;return g(this,function(n){switch(n.label){case 0:return t=[r.globalCondition(y),r.uiCondition(y)].map(p),[4,Promise.all(t)];case 1:return[2,n.sent().every(function(t){return t})]}})})}()];case 1:return t.sent()&&A.show(),[2]}})})},0)}),n.default={tests:w,config:x,getUserAgentInfo:z,getTest:E,create:j,getCurrentTestVariation:O,setCurrentTestVariation:P,reset:L,ui:A,SplitTest:b,initialize:S}},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[e].concat(o).concat([r]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,'.skift{position:fixed;bottom:5px;right:5px;width:300px;max-height:500px;color:#292929;z-index:999;background-color:#fff;border:2px solid #00b67a;transition:all .5s ease-out;opacity:1;border-radius:3px}.skift li.selected{font-weight:700}.skift li a{color:#0c59f2}.skift .variations .legend{font-size:12px}.skift .header{top:0;left:0;padding:8px;background-color:#00b67a;color:#fff;font-size:16px;font-weight:700}.skift.hideme{bottom:-550px;opacity:0}.skift .tests{overflow-y:auto}.skift .variations{background:#f4f7f9;box-shadow:inset 0 0 1px 1px #dfe2e5;padding:8px}.skift .variations ul{margin:0}.skift .test{padding:8px 8px 0}.skift .data-label{display:inline-block;margin-bottom:2px;margin-right:5px;color:#292929}.skift .data-label:after{content:":"}.skift .data-value{color:#000;font-weight:700}.skift .close{position:absolute;right:8px;background-color:#fff;color:#00b67a;height:20px;width:20px;border-radius:50%;cursor:pointer;text-align:center;font-size:16px;line-height:20px}.skift .reset{width:100%;padding:5px 10px;background-color:#00b67a;font-size:18px;color:#fff;border:0;cursor:pointer}',""])},function(t,n,e){var i=e(3);t.exports="string"==typeof i?i:i.toString()}])});